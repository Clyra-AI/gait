(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";var r=e.i(43476),a=e.i(71645);let t=[{id:"demo",label:"1. Run Demo",note:"Create deterministic runpack"},{id:"verify_demo",label:"2. Verify",note:"Validate artifact integrity"},{id:"receipt_demo",label:"3. Ticket Footer",note:"Extract paste-ready proof"},{id:"regress_init",label:"4. Regress Init",note:"Create fixture from incident"},{id:"regress_run",label:"5. Regress Run",note:"Execute deterministic graders"},{id:"policy_block_test",label:"6. Policy Block",note:"Show fail-closed non-allow"}];async function i(e,r){let a,t=await fetch(e,r),i=await t.text();try{a=JSON.parse(i)}catch{throw Error(`invalid JSON from ${e}: ${i}`)}if(!t.ok)throw Error(`request failed (${t.status}): ${JSON.stringify(a)}`);return a}function n(){let[e,n]=(0,a.useState)("loading"),[s,o]=(0,a.useState)(null),[l,c]=(0,a.useState)(null),[d,h]=(0,a.useState)(null),u=(0,a.useMemo)(()=>s?s.ok?`Workspace: ${s.workspace}`:`State error: ${s.error??"unknown error"}`:"Loading workspace...",[s]),p=async()=>{try{let e=await i("/api/state");o(e)}catch(e){o({ok:!1,workspace:"",gait_config_exists:!1,error:e instanceof Error?e.message:"unknown error"})}};(0,a.useEffect)(()=>{(async()=>{try{await i("/api/health"),n("ok")}catch{n("error")}await p()})()},[]);let m=async e=>{h(e);try{let r=await i("/api/exec",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:e})});c(r),await p()}catch(e){c({error:e instanceof Error?e.message:"unknown error"})}finally{h(null)}};return(0,r.jsxs)("div",{className:"page-shell",children:[(0,r.jsxs)("header",{className:"topbar",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:"Gait Local UI"}),(0,r.jsx)("p",{children:"Operator command center for first-run adoption and deterministic proof."})]}),(0,r.jsx)("div",{className:`health-pill health-${e}`,children:"loading"===e?"Checking...":"ok"===e?"Healthy":"Unavailable"})]}),(0,r.jsxs)("main",{className:"layout-grid",children:[(0,r.jsxs)("section",{className:"panel",children:[(0,r.jsx)("h2",{children:"15-Minute Flow"}),(0,r.jsx)("p",{className:"muted",children:u}),(0,r.jsx)("div",{className:"action-grid",children:t.map(e=>(0,r.jsxs)("button",{onClick:()=>void m(e.id),disabled:null!==d,children:[(0,r.jsx)("strong",{children:e.label}),(0,r.jsx)("span",{children:d===e.id?"Running...":e.note})]},e.id))}),(0,r.jsx)("pre",{className:"code-block",children:JSON.stringify(l,null,2)||"Run an action to view command output."})]}),(0,r.jsxs)("section",{className:"panel",children:[(0,r.jsx)("h2",{children:"Workspace State"}),(0,r.jsx)("pre",{className:"code-block",children:JSON.stringify(s,null,2)||"Loading..."})]})]})]})}e.s(["default",()=>n])}]);
